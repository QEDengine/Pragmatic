{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Python: Current File",
			"type": "python",
			"request": "launch",
			"program": "${file}",
			"console": "integratedTerminal",
			"justMyCode": false
		},
		{
			"name": "Pragmatic",
			"type": "python",
			"request": "launch",
			"module": "pragmatic",
			"args": ["build", "${workspaceFolder}/pragmatic/pragmatic_plugin/debug/debug_source.cpp"],
			"justMyCode": false
		},
		{
			"name": "Pragmatic Tests",
			"type": "python",
			"request": "launch",
			"program": "${workspaceFolder}/tests/test_runner.py",
			"cwd": "${workspaceFolder}",
			"args": [],
			"justMyCode": false
		},
		{
			"name": "Pragmatic CLI",
			"type": "python",
			"request": "launch",
			"module": "pragmatic",
			"args": ["${input:args}"]
		},
		{
			"name": "Pragmatic Plugin",
			"type": "cppvsdbg",
			"request": "launch",
			"console": "integratedTerminal",
			"symbolSearchPath": "${workspaceFolder}/pragmatic/pragmatic_plugin/build",
			"cwd": "${workspaceFolder}/tests/${input:testcase}/",
			"program": "${workspaceFolder}/pragmatic/LLVM/bin/clang.exe",
			"args": [
				// "-E",
				// "-c",
				"-fsyntax-only",
				"-std=c++17",
				"Main.cpp",
				"-o", "Main.o",
				"-fplugin=${workspaceFolder}/pragmatic/pragmatic_plugin/build/PragmaticPlugin.dll",
				"-DPRAGMATIC_FILE_PATH=\"${workspaceFolder}/tests/${input:testcase}/meta.json\"",
				"--include=${workspaceFolder}/pragmatic/include/preamble.hpp"
			]
		},
		{
			"name": "Pragmatic Plugin TEST",
			"type": "cppvsdbg",
			"request": "launch",
			"console": "integratedTerminal",
			"symbolSearchPath": "${workspaceFolder}/pragmatic/pragmatic_plugin/build",
			"cwd": "${workspaceFolder}/tests/3_MultiSource",
			"program": "${workspaceFolder}/pragmatic/LLVM/bin/clang.exe",
			"args": [
				"-c",
				"-fsyntax-only",
				"SomeClass.cpp",
				"-o", "SomeClass.o",
				"-fplugin=${workspaceFolder}/pragmatic/pragmatic_plugin/build/PragmaticPlugin.dll",
				"-DPRAGMATIC_FILE_PATH=\"${workspaceFolder}/tests/3_MultiSource/meta.json\"",
				"--include=${workspaceFolder}/pragmatic/include/preamble.hpp"
			]
		}
	],
	"inputs": [
		{
		  "id": "args",
		  "type": "promptString",
		  "description": "Argments"
		},
		{
			"id": "testcase",
			"type": "pickString",
			"options": [
				"2_Standard",
				"3_MultiSource"
			],
			"description": "Testcase to debug"
		}
	  ]
}
